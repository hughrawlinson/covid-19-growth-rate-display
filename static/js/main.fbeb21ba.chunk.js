(this["webpackJsonpcovid-19-growth-rate-display"]=this["webpackJsonpcovid-19-growth-rate-display"]||[]).push([[0],{226:function(e,t,a){e.exports=a(363)},363:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(35),o=a.n(c),u=a(11),i=a(190),l=a(127);function d(e){return e.reduce((function(e,t){return Object(l.a)({},e,{confirmed:e.confirmed+t.confirmed,deaths:e.deaths+t.deaths,recovered:e.recovered+t.recovered})}),{date:e[0].date,confirmed:0,deaths:0,recovered:0})}var s=a(82);function f(e){var t=e.countries,a=e.selectedCountry,n=e.setSelectedCountry;return r.a.createElement(s.a,{options:t.map((function(e){return{value:e,label:e}})),onChange:function(e){n(e.value)},value:{value:a,label:a}})}var m=a(178),b=[{value:"confirmed",label:"Confirmed"},{value:"deaths",label:"Deaths"},{value:"recovered",label:"Recovered"}];function v(e){var t=e.data,a=e.selectedCountry,n=e.selectedTallyType,r=e.zeroDayMode,c=e.growthRateMode;function o(e,r){if(!c)return e[n];if(r<1)return 0;var o=t[a][r-1];return o?(e[n]-(o[n]||0))/(o[n]||1):e[n]}return[{id:a,data:t[a].map((function(e,t){return{x:e.date,y:o(e,t)}})).filter((function(e){var t=e.y;return!r||t>0}))}]}var h=function(){var e=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1];if(Object(n.useEffect)((function(){var e=!0;return fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(t){e&&r(t)})),function(){e=!1}}),[]),!a)return[null,null];var c,o=(c=Object.values(a),c[0].map((function(e,t){return c.map((function(e){return e[t]}))}))).map(d);return[Object(l.a)({Worldwide:o},a),a?["Worldwide"].concat(Object(i.a)(Object.keys(a).sort())):null]}(),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("Worldwide"),h=Object(u.a)(o,2),p=h[0],y=h[1],g=Object(n.useState)("confirmed"),j=Object(u.a)(g,2),O=j[0],E=j[1],w=Object(n.useState)(!1),C=Object(u.a)(w,2),S=C[0],k=C[1],x=Object(n.useState)(!1),M=Object(u.a)(x,2),D=M[0],R=M[1],T=Object(n.useState)(!1),W=Object(u.a)(T,2),z=W[0],A=W[1];Object(n.useEffect)((function(){c&&!p&&y(c[0])}),[p,c]);var B={width:window.innerWidth-20,height:400,margin:{top:20,right:20,bottom:60,left:80},animate:!0,enableSlices:"x",enableArea:!0,xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},yScale:D?{type:"log",base:10}:{type:"linear"},axisBottom:{format:"%b %d",tickValues:"every 7 days",legend:"time scale",legendOffset:-12}};return r.a.createElement("div",{className:"App"},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,Object.assign({curve:"monotoneX",data:v({data:a,selectedCountry:p,selectedTallyType:O,zeroDayMode:S,growthRateMode:z})},B)),r.a.createElement(f,{countries:c,selectedCountry:p,setSelectedCountry:y}),r.a.createElement(s.a,{options:b,value:b.find((function(e){return e.value===O})),onChange:function(e){return E(e.value)}}),"Zero Day Mode",r.a.createElement("input",{type:"checkbox",onChange:function(e){!e.target.checked&&R(!1),k(e.target.checked)},value:S}),"Logarithmic",r.a.createElement("input",{type:"checkbox",disabled:!S,onChange:function(e){R(e.target.checked)},value:D}),"Growth Rate",r.a.createElement("input",{type:"checkbox",onChange:function(e){A(e.target.checked)},value:z})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.fbeb21ba.chunk.js.map