(this["webpackJsonpcovid-19-growth-rate-display"]=this["webpackJsonpcovid-19-growth-rate-display"]||[]).push([[0],{324:function(e,t,a){e.exports=a(535)},535:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),o=a.n(c),l=a(11),u=a(10),i=a(189);function d(e){return e.reduce((function(e,t){return Object(i.a)({},e,{confirmed:e.confirmed+t.confirmed,deaths:e.deaths+t.deaths,recovered:e.recovered+t.recovered})}),{date:e[0].date,confirmed:0,deaths:0,recovered:0})}var m=a(134);function s(e){var t=e.countries,a=e.selectedCountry,n=e.setSelectedCountry;return r.a.createElement(m.a,{options:t.map((function(e){return{value:e,label:e}})),onChange:function(e){n(e.value)},value:{value:a,label:a}})}var f=a(260),b=a(564),h=a(568),v=a(565),y=a(567),p=b.a.Title,g=h.a.Content,j=h.a.Header,E=(h.a.Footer,[{value:"confirmed",label:"Confirmed"},{value:"deaths",label:"Deaths"},{value:"recovered",label:"Recovered"}]);function O(e){var t=e.data,a=e.selectedCountry,n=e.selectedTallyType,r=e.zeroDayMode,c=e.growthRateMode;function o(e,r){if(!c)return e[n];if(r<1)return 0;var o=t[a][r-1];return o?(e[n]-(o[n]||0))/(o[n]||1):e[n]}return[{id:a,data:t[a].map((function(e,t){return{x:e.date,y:o(e,t)}})).filter((function(e){var t=e.y;return!r||t>0}))}]}var w=function(){var e=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=t[1];if(Object(n.useEffect)((function(){var e=!0;return fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(t){e&&r(t)})),function(){e=!1}}),[]),!a)return[null,null];var c,o=(c=Object.values(a),c[0].map((function(e,t){return c.map((function(e){return e[t]}))}))).map(d);return[Object(i.a)({Worldwide:o},a),a?["Worldwide"].concat(Object(u.a)(Object.keys(a).sort())):null]}(),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("Worldwide"),b=Object(l.a)(o,2),w=b[0],C=b[1],S=Object(n.useState)("confirmed"),k=Object(l.a)(S,2),M=k[0],T=k[1],I=Object(n.useState)(!1),x=Object(l.a)(I,2),D=x[0],R=x[1],W=Object(n.useState)(!1),z=Object(l.a)(W,2),B=z[0],F=z[1],G=Object(n.useState)(!1),J=Object(l.a)(G,2),L=J[0],Z=J[1];Object(n.useEffect)((function(){c&&!w&&C(c[0])}),[w,c]);var A={width:window.innerWidth-20,height:400,margin:{top:20,right:20,bottom:60,left:80},animate:!0,enableSlices:"x",enableArea:!0,xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},yScale:B?{type:"log",base:10}:{type:"linear"},axisBottom:{format:"%b %d",tickValues:"every 7 days",legend:"time scale",legendOffset:-12}};return r.a.createElement(h.a,null,r.a.createElement(j,null),r.a.createElement(g,null,r.a.createElement(p,null,document.title),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,Object.assign({curve:"monotoneX",data:O({data:a,selectedCountry:w,selectedTallyType:M,zeroDayMode:D,growthRateMode:L})},A)),r.a.createElement(v.a,{labelCol:{span:4},wrapperCol:{span:8}},r.a.createElement(v.a.Item,{label:"Country",name:"country"},r.a.createElement(s,{countries:c,selectedCountry:w,setSelectedCountry:C})),r.a.createElement(v.a.Item,{label:"Tally Type",name:"tally-type"},r.a.createElement(m.a,{options:E,value:E.find((function(e){return e.value===M})),onChange:function(e){return T(e.value)}})),r.a.createElement(v.a.Item,{label:"Zero Day Mode",name:"zero-day-mode"},r.a.createElement(y.a,{onChange:function(e){!e.target.checked&&F(!1),R(e.target.checked)},checked:D},"Zero Day Mode")),r.a.createElement(v.a.Item,{label:"Logarithmic Mode",name:"logarithmic-mode"},r.a.createElement(y.a,{disabled:!D,onChange:function(e){F(e.target.checked)},checked:B},"Logarithmic")),r.a.createElement(v.a.Item,{label:"Growth Rate Mode",name:"growth-rate-mode"},r.a.createElement(y.a,{onChange:function(e){Z(e.target.checked)},checked:L},"Growth Rate"))))))};a(534);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[324,1,2]]]);
//# sourceMappingURL=main.ce446c2d.chunk.js.map